{% extends "layout.html" %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-10">
        <div class="card border-0 shadow-sm">
            <div class="card-body p-5">
                <h1 class="card-title text-center mb-4">
                    <i class="fas fa-file-pdf text-danger me-2"></i>
                    PDF Comparative Analysis
                </h1>
                
                <p class="lead text-center mb-4">
                    Upload two PDF documents to generate a comparative deep financial analysis.
                </p>
                
                <div class="alert alert-info mb-4">
                    <i class="fas fa-info-circle me-2"></i>
                    <strong>How it works:</strong> Our system will analyze both documents, extract financial data, generate financial models, and provide a comparative analysis with investment recommendations.
                </div>
                
                <form id="upload-form" action="{{ url_for('upload_files') }}" method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-body upload-area" id="upload-area-1">
                                    <h5 class="card-title">
                                        <i class="fas fa-building me-2"></i>
                                        Company A Document
                                    </h5>
                                    <div class="text-center py-5 mb-3 upload-zone" id="drop-zone-1">
                                        <i class="fas fa-cloud-upload-alt fa-3x mb-3 text-primary"></i>
                                        <p>Drag &amp; drop a PDF file here</p>
                                        <p><small>or</small></p>
                                        <label class="btn btn-outline-primary">
                                            Browse Files
                                            <input type="file" name="file1" id="file1" class="d-none" accept=".pdf" required>
                                        </label>
                                    </div>
                                    <div id="file1-info" class="text-center mt-2 d-none">
                                        <div class="alert alert-success">
                                            <i class="fas fa-check-circle me-2"></i>
                                            <span id="file1-name"></span>
                                            <button type="button" class="btn-close btn-sm float-end" id="remove-file1"></button>
                                        </div>
                                    </div>
                                    <div class="invalid-feedback">
                                        Please select a PDF file for Company A.
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card h-100">
                                <div class="card-body upload-area" id="upload-area-2">
                                    <h5 class="card-title">
                                        <i class="fas fa-building me-2"></i>
                                        Company B Document
                                    </h5>
                                    <div class="text-center py-5 mb-3 upload-zone" id="drop-zone-2">
                                        <i class="fas fa-cloud-upload-alt fa-3x mb-3 text-primary"></i>
                                        <p>Drag &amp; drop a PDF file here</p>
                                        <p><small>or</small></p>
                                        <label class="btn btn-outline-primary">
                                            Browse Files
                                            <input type="file" name="file2" id="file2" class="d-none" accept=".pdf" required>
                                        </label>
                                    </div>
                                    <div id="file2-info" class="text-center mt-2 d-none">
                                        <div class="alert alert-success">
                                            <i class="fas fa-check-circle me-2"></i>
                                            <span id="file2-name"></span>
                                            <button type="button" class="btn-close btn-sm float-end" id="remove-file2"></button>
                                        </div>
                                    </div>
                                    <div class="invalid-feedback">
                                        Please select a PDF file for Company B.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="fas fa-chart-pie me-2"></i>
                            Generate Analysis
                        </button>
                    </div>
                </form>
                
                <div id="loading" class="text-center my-5 d-none">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="mt-3">Analyzing documents. This may take a few minutes...</p>
                    <div class="progress mt-3">
                        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card mt-4 border-0 shadow-sm">
            <div class="card-body">
                <h4 class="card-title">
                    <i class="fas fa-info-circle text-info me-2"></i>
                    About this Tool
                </h4>
                <p>This application uses advanced natural language processing to analyze financial documents and generate insightful comparative analysis. Ideal for:</p>
                <ul>
                    <li>Comparing quarterly earnings reports</li>
                    <li>Analyzing financial performance between competitors</li>
                    <li>Generating investment insights across different companies</li>
                    <li>Understanding key financial metrics and trends</li>
                </ul>
                <p><strong>Note:</strong> The analysis may take several minutes to complete, depending on the size and complexity of the uploaded documents.</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
